<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        //by Pixels
        let imgSpace = 300;
        !imgSpace && imgSpace++;

        $(window).resize(function () {
          $("body").css(
            "height",
            $(window).height() + imgSpace * ($(".image").length - 1) + "px"
          );
        });

        $(window).trigger("resize");

        $("#c1").fadeIn(0);

        $(".image").click(function () {
          let NxtIMG = Math.trunc($(document).scrollTop() / imgSpace) + 1;
          NxtIMG >= $(".image").length && (NxtIMG = 0);
          $(window).scrollTop(NxtIMG * imgSpace);
        });

        $(window).scroll(function () {
          var pos = $(document).scrollTop();
          console.log(pos);
          hideAll("c" + (Math.trunc(pos / imgSpace) + 1));
          $("#c" + (Math.trunc(pos / imgSpace) + 1)).fadeIn(1000);
        });

        function hideAll(exceptMe) {
          $(".image").each(function (i) {
            if ($(this).attr("id") == exceptMe) return;
            $(this).fadeOut(1000);
          });
        }
      });
    </script>
  </head>
  <body>
    <div class="container">
      <p class="text-box">
        Det var for en 13-14 Ã¥r siden, at de ville legge ned hele foreningen.
      </p>

      <div id="c1" class="image">
        <img src="http://placekitten.com/200/140" style="width: 40vh" />
      </div>
    </div>

    <div class="container">
      <p class="text-box">asasd</p>

      <div id="c2" class="image">
        <img src="http://placekitten.com/200/122" style="width: 40vh" />
      </div>
    </div>

    <div id="c3" class="image">
      <img src="http://placekitten.com/200/143" style="width: 40vh" />
    </div>
    <div id="c4" class="image">
      <img src="http://placekitten.com/200/134" style="width: 40vh" />
    </div>
    <div id="c5" class="image">
      <img src="http://placekitten.com/200/145" style="width: 40vh" />
    </div>
    <div id="c6" class="image">
      <img src="http://placekitten.com/200/136" style="width: 40vh" />
    </div>
  </body>
</html>
